import { Callout } from "nextra/components";

# コミットとプッシュ

このページでは Git 運用の要である **コミット** と **プッシュ** について学んでいきます。

## コミット

前のページでも軽く触れましたが、おさらいしましょう。

コミットとは、「セーブポイント」とも紹介したように、
**その時々の変更内容を前回からの差分の形で記録するもの** です。

具体的にコミットの中身を見てみましょう。
これはこの講習資料のコミットの 1 つです。

緑色が新たに足された部分、赤色が削除された部分です。
行の単位で追加・削除が記録されています。

![コミットの差分](/commit_diff.png)

このように変更内容を記録していくのです。

## コミットする方法

### 下準備

ここからは実際に作業をしながら見ていくことにします。
まずは自分のパソコンにローカルリポジトリを作成しましょう。

1. VSCode で Git 管理したいディレクトリを開く
1. 画面左の「枝分かれしたアイコン」、「Initialize Repository」を順にクリックする

<Callout type="info">
    もし今までの講習で使ったディレクトリがあれば、それを使っても構いません。
    その場合は下でやっているように新しいファイルを作る必要はありません。
</Callout>

![レポジトリの初期化](/init_repo.png)

これで作業する準備が整いました。
コミットする内容が必要なので、適当に html ファイルを作りましょう。
中身は何を書いても構いません。
書き終わったら上書き保存を忘れずにやっておきましょう。

### コミットの手順

今までコミットを作ることについて述べてきましたが、コミットを作るには

-   **ステージング**
-   **コミット**

の 2 つの作業をする必要があります。

![ステージングとコミット](/staging_commit.png)

#### ステージング

**ステージング** とは、 **インデックス** と呼ばれる場所に、
**登録したい変更を一時的に置いておくこと** です。
今までにした変更を全てステージングすることもできるし、
一部のファイルに絞ってステージングすることもできます。

ステージングする際は、下の画像の赤枠のボタンを押します。
ステージングされたでしょうか。

「変更」の横の＋ボタンを押せば、すべてをステージングすることもできます。

インデックスに入れられている変更を戻すこともできます。

![ステージング](/vscode_staging.png)

<Callout type="info">
    CUI でステージングするときはターミナルで
    ```sh
    git add <ステージングしたいファイルのパス>
    ```
    と打って実行します。画像の状況では `git add index.html` です。
    変更を全てステージングする場合は
    ```sh
    git add -A
    ```
    とします。
</Callout>

#### コミット